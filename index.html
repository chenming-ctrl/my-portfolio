<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chenming LI | Neural Architecture Portfolio</title>
    <style>
        :root { --bg-blur: 0px; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background-color: #fff; font-family: "Helvetica Neue", sans-serif; overflow: hidden; touch-action: none; -webkit-font-smoothing: antialiased; }
        #canvas-container { position: fixed; width: 100%; height: 100%; z-index: 1; transition: filter 1s ease; filter: blur(var(--bg-blur)); pointer-events: none; }
        
        nav { position: fixed; top: 0; left: 0; width: 100%; padding: 40px 60px; display: flex; justify-content: space-between; align-items: center; z-index: 5000; box-sizing: border-box; opacity: 0; transform: translateY(-20px); transition: 0.8s ease; pointer-events: none; }
        nav.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }
        .nav-logo { font-size: 0.9rem; font-weight: 600; letter-spacing: 2px; cursor: pointer; color: #000; }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { text-decoration: none; color: #999; font-size: 0.6rem; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        .nav-links a:hover { color: #000; }

        .back-btn-container { position: fixed; bottom: 30px; left: 60px; z-index: 7001; opacity: 0; transform: translateY(10px); transition: 0.5s ease; pointer-events: none; }
        .back-btn-container.show { opacity: 1; transform: translateY(0); pointer-events: auto; }
        .back-btn { font-size: 0.55rem; letter-spacing: 3px; color: #999; cursor: pointer; text-transform: uppercase; transition: 0.3s; padding: 10px; }

        .view-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; opacity: 0; visibility: hidden; transition: 0.8s cubic-bezier(0.165, 0.84, 0.44, 1); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .view-layer.active { opacity: 1; visibility: visible; }

        #lvl1 h1 { font-size: 3.5rem; font-weight: 100; letter-spacing: 20px; margin-bottom: 20px; text-transform: uppercase; color: #000; }
        #lvl1 p { font-size: 0.55rem; color: #aaa; letter-spacing: 8px; text-transform: uppercase; margin-top: 0; }

        .neural-grid { display: flex; gap: 70px; justify-content: center; align-items: center; width: 95%; flex-wrap: wrap; padding: 20px; transition: width 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
        .stack-container { position: relative; width: 160px; height: 220px; cursor: pointer; text-align: center; perspective: 1000px; }
        .neural-stack { position: relative; width: 140px; height: 140px; transform-style: preserve-3d; margin: 0 auto; transition: transform 0.6s; }
        .neural-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #fff; border: 1px solid rgba(0,0,0,0.05); overflow: hidden; transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1); box-shadow: 0 5px 15px rgba(0,0,0,0.02); display: flex; align-items: center; justify-content: center; }
        .neural-layer img { width: 100%; height: 100%; object-fit: cover; }
        .layer-1 { z-index: 5; }
        .layer-2 { z-index: 4; transform: translate(10px, -10px); opacity: 0.6; }
        .layer-3 { z-index: 3; transform: translate(20px, -20px); opacity: 0.3; }
        .stack-container:hover .layer-1 { transform: translate(-15px, 15px) rotate(-3deg); box-shadow: 15px 15px 30px rgba(0,0,0,0.1); }
        .stack-container:hover .layer-2 { transform: translate(5px, -5px); opacity: 0.8; }
        .stack-container:hover .layer-3 { transform: translate(22px, -22px); opacity: 0.5; }
        .stack-label { margin-top: 35px; font-size: 0.6rem; letter-spacing: 3px; text-transform: uppercase; color: #bbb; transition: 0.4s; }
        
        .del-proj-btn { position: absolute; top: -10px; right: -10px; width: 22px; height: 22px; background: #ff4d4d; color: #fff; border-radius: 50%; font-size: 10px; display: flex; align-items: center; justify-content: center; z-index: 10; cursor: pointer; border: 2px solid #fff; opacity: 0; transition: 0.3s; }
        .stack-container:hover .del-proj-btn { opacity: 1; }

        #lvl4 { background: #fbfbfb; z-index: 6000; }
        #miro-viewport { position: absolute; width: 100%; height: 100%; transform-origin: 0 0; }
        .miro-item { position: absolute; background: white; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border: 2px solid transparent; min-width: 30px; overflow: hidden; display: flex; align-items: center; justify-content: center; user-select: none; }
        .miro-item.selected { border-color: #4285F4 !important; }
        .miro-item img, .miro-item video { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
        .resizer { width: 12px; height: 12px; background: #4285F4; position: absolute; right: 0; bottom: 0; cursor: nwse-resize; opacity: 0; z-index: 10; }

        .miro-ui { position: fixed; bottom: 80px; left: 60px; z-index: 7000; display: flex; align-items: center; gap: 15px; }
        .ui-btn { background: #fff; padding: 10px 20px; border-radius: 40px; font-size: 0.6rem; letter-spacing: 1px; cursor: pointer; border: 1px solid #eee; text-transform: uppercase; }
        #save-status { font-size: 0.6rem; font-weight: bold; text-transform: uppercase; opacity: 0; transition: 0.3s; color: #4285F4; }
        #save-status.active { opacity: 1; }

        .admin-lock { position: fixed; bottom: 30px; right: 60px; font-size: 0.45rem; color: #ccc; cursor: pointer; z-index: 8000; letter-spacing: 1.5px; text-transform: uppercase; background: rgba(255,255,255,0.8); padding: 5px 10px; border-radius: 4px; }
        .admin-lock:hover { color: #000; }

        #loading-screen { position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center; }
        #loading-bar-wrap { width: 100px; height: 1px; background: #eee; position: relative; overflow: hidden; }
        #loading-bar { width: 0%; height: 100%; background: #000; transition: 0.3s; }
    </style>
</head>
<body>

<div id="loading-screen">
    <div id="loading-bar-wrap"><div id="loading-bar"></div></div>
    <p style="font-size: 0.45rem; letter-spacing: 2px; margin-top: 15px; color: #aaa; text-transform: uppercase;">Initializing Sync...</p>
</div>

<div class="admin-lock" onclick="checkUnlock()" id="adminInfo">ADMIN LOGIN</div>

<nav id="mainNav"><div class="nav-logo" onclick="showLevel(1)">CHENMING</div><div id="dynamicNav" class="nav-links"></div></nav>

<div id="backBtnContainer" class="back-btn-container">
    <div id="addProjBtn" class="back-btn" style="display:none; margin-bottom: 10px; color: #34A853; font-weight: bold;" onclick="createNewProject()">+ NEW PROJECT</div>
    <div class="back-btn" onclick="handleBack()">← BACK</div>
</div>

<div id="canvas-container"><canvas id="particleCanvas"></canvas></div>

<div class="view-layer active" id="lvl1">
    <div onclick="showLevel(2)" style="cursor:pointer; text-align:center">
        <h1>CHENMING LI</h1>
        <p>Architecture & Computation Portfolio</p>
    </div>
</div>

<div id="lvl2" class="view-layer"><div class="neural-grid" id="catGrid"></div></div>
<div id="lvl3" class="view-layer"><div class="neural-grid" id="projGrid"></div></div>

<div id="lvl4" class="view-layer" ondragover="event.preventDefault()" ondrop="handleDrop(event)">
    <div class="lvl4-header" style="position: fixed; top: 100px; left: 60px; z-index: 7000; pointer-events: none;">
        <div id="lvl4CatTag" style="font-size: 0.4rem; color: #ccc; letter-spacing: 4px; margin-bottom: 8px;">CATEGORY</div>
        <div id="lvl4Title" style="pointer-events: auto; outline:none; font-size: 1.5rem;" contenteditable="true" onblur="saveToCloud()">PROJECT TITLE</div>
    </div>
    <div id="miro-viewport"></div>
    <div class="miro-ui" id="adminControls" style="display:none;">
        <button class="ui-btn" onclick="document.getElementById('fileInput').click()">+ MEDIA</button>
        <button class="ui-btn" onclick="addText()">+ TEXT</button>
        <button class="ui-btn" onclick="saveToCloud()">SAVE TO CLOUD</button>
        <span id="save-status"></span>
    </div>
    <input type="file" id="fileInput" hidden multiple onchange="handleUpload(event)">
</div>

<script>
    const GH_CONFIG = {
        get token() { return (localStorage.getItem('gh_token') || '').trim(); },
        owner: 'chenming-ctrl',
        repo: 'my-portfolio-data',
        path: 'portfolio_data.json'
    };

    let portfolio_raw_data = {}; 
    const portfolio = {
        'Architecture': { thumb: 'https://via.placeholder.com/150?text=Arch', projects: [] },
        'Computational': { thumb: 'https://via.placeholder.com/150?text=Comp', projects: [] },
        'Interest': { thumb: 'https://via.placeholder.com/150?text=Interest', projects: [] },
        'Photo': { thumb: 'https://via.placeholder.com/150?text=Photo', projects: [] },
        'Ongoing': { thumb: 'https://via.placeholder.com/150?text=Ongoing', projects: [] }
    };

    let isAdmin = false, currentLvl = 1, currentCat = '', currentProj = null;
    let zoom = 1, panX = 0, panY = 0, isPanning = false, isDragging = false, isResizing = false;
    let dragTarget = null, startX, startY, startW, startH;
    const vp = document.getElementById('miro-viewport'), bd = document.getElementById('lvl4');

    function updateStep(msg) { const t = document.querySelector('#loading-screen p'); if(t) t.innerText = msg; }

    async function fetchFromGithub() {
        updateStep("1/3: SYNCING DATABASE...");
        const url = `https://api.github.com/repos/${GH_CONFIG.owner}/${GH_CONFIG.repo}/contents/${GH_CONFIG.path}?t=${Date.now()}`;
        try {
            const res = await fetch(url, { 
                headers: { 
                    'Authorization': GH_CONFIG.token ? `token ${GH_CONFIG.token}` : undefined,
                    'Accept': 'application/vnd.github.v3+json',
                    'Cache-Control': 'no-cache'
                },
                mode: 'cors'
            });
            if (res.ok) {
                const data = await res.json();
                portfolio_raw_data = JSON.parse(decodeURIComponent(escape(atob(data.content))));
                updateStep("2/3: DATA RECEIVED...");
            } else { 
                updateStep("2/3: INITIALIZING...");
                portfolio_raw_data = {}; 
            }
        } catch (e) { 
            updateStep("OFFLINE MODE...");
            portfolio_raw_data = {}; 
        } finally {
            updateStep("3/3: READY.");
            syncToLocalModel();
        }
    }

    function syncToLocalModel() {
        Object.keys(portfolio).forEach(cat => {
            const prefix = cat[0].toLowerCase();
            portfolio[cat].projects = Object.keys(portfolio_raw_data)
                .filter(id => id.startsWith(prefix))
                .map(id => ({ id, ...portfolio_raw_data[id] }));
        });
        document.getElementById('loading-bar').style.width = "100%";
        setTimeout(() => { document.getElementById('loading-screen').style.display = "none"; }, 500);
        if(currentLvl === 2) renderCatGrid();
        if(currentLvl === 3) renderProjGrid();
    }

    async function saveToCloud(silent = false) {
        if(!isAdmin || !GH_CONFIG.token) return;
        const status = document.getElementById('save-status');
        if(!silent) { status.innerText = "CONNECTING..."; status.classList.add('active'); }

        const items = Array.from(vp.children).map(el => ({ 
            html: el.innerHTML.replace(/<div class="resizer".*?><\/div>/g, ''), 
            x: el.style.left, y: el.style.top, w: el.style.width, h: el.style.height
        }));

        if(currentProj) {
            const titleEl = document.getElementById('lvl4Title');
            portfolio_raw_data[currentProj.id] = {
                title: titleEl ? titleEl.innerText : currentProj.title,
                layout: items,
                thumbs: items.filter(it => it.html.includes('<img')).slice(0, 3).map(it => it.html.match(/src="([^"]+)"/)?.[1])
            };
        }

        const url = `https://api.github.com/repos/${GH_CONFIG.owner}/${GH_CONFIG.repo}/contents/${GH_CONFIG.path}`;
        
        try {
            if(!silent) status.innerText = "VERIFYING...";
            const getRes = await fetch(url + `?t=${Date.now()}`, { 
                headers: { 
                    'Authorization': `token ${GH_CONFIG.token}`,
                    'Cache-Control': 'no-cache',
                    'Accept': 'application/vnd.github.v3+json'
                },
                mode: 'cors'
            }).catch(() => { throw new Error("NETWORK_ISSUE"); });

            let sha = null;
            if (getRes.ok) {
                const fileData = await getRes.json();
                sha = fileData.sha;
            } else if (getRes.status === 401 || getRes.status === 403) {
                throw new Error("AUTH_FAILED");
            } else if (getRes.status === 404) {
                sha = null; 
            }

            if(!silent) status.innerText = "PUSHING...";
            const content = btoa(unescape(encodeURIComponent(JSON.stringify(portfolio_raw_data, null, 2))));
            const putRes = await fetch(url, {
                method: 'PUT',
                headers: { 
                    'Authorization': `token ${GH_CONFIG.token}`,
                    'Content-Type': 'application/json',
                    'Accept': 'application/vnd.github.v3+json'
                },
                body: JSON.stringify({ message: "Cloud Sync Update", content, sha }),
                mode: 'cors'
            });

            if(putRes.ok) {
                if(!silent) { status.innerText = "SAVED ✓"; setTimeout(() => status.classList.remove('active'), 1500); }
            } else {
                const errData = await putRes.json();
                throw new Error(errData.message || "UPLOAD_FAILED");
            }
        } catch (err) {
            status.innerText = "FAILED";
            let msg = "CRITICAL ERROR: ";
            if(err.message === "NETWORK_ISSUE") msg += "无法连接 GitHub 接口。请确认你的 VPN 是否开启了“全局模式”。";
            else if(err.message === "AUTH_FAILED") msg += "Token 无效或权限不足（私有库必须勾选 repo 权限）。请重新登录。";
            else msg += err.message;
            alert(msg);
            throw err;
        }
    }

    async function createNewProject() {
        const n = prompt("Project Name:");
        if(!n) return;
        const id = currentCat[0].toLowerCase() + Date.now();
        const backup = JSON.stringify(portfolio_raw_data);
        portfolio_raw_data[id] = { title: n, layout: [], thumbs: [] };
        try {
            await saveToCloud(false);
            syncToLocalModel();
        } catch (e) {
            portfolio_raw_data = JSON.parse(backup);
        }
    }

    // --- 核心修复：持久化登录与诊断反馈 ---
    function checkUnlock() {
        if (isAdmin) {
            if (confirm("Logout: Clear session and sensitive Token?")) {
                localStorage.removeItem('gh_token');
                localStorage.removeItem('is_admin_session'); 
                location.reload();
            }
            return;
        }

        const pass = prompt("ADMIN PASSWORD:");
        if (pass === null) return; 

        if (pass === "li123") {
            let token = localStorage.getItem('gh_token');
            if (!token || confirm("Admin authenticated. Would you like to UPDATE or Re-enter Token?")) {
                const newToken = prompt("PLEASE ENTER GITHUB TOKEN (Must start with ghp_):");
                if (!newToken) {
                    alert("LOGIN FAILED: Token cannot be empty.");
                    return;
                }
                if (!newToken.trim().startsWith('ghp_')) {
                    alert("FORMAT ERROR: The token must start with 'ghp_'.");
                    return;
                }
                localStorage.setItem('gh_token', newToken.trim());
                token = newToken.trim();
            }

            if (token) {
                isAdmin = true;
                localStorage.setItem('is_admin_session', 'true'); 
                document.getElementById('adminControls').style.display = 'flex';
                document.getElementById('adminInfo').innerText = "ADMIN ACTIVE (LOGOUT)";
                document.getElementById('adminInfo').style.color = "#34A853";
                showLevel(currentLvl, currentCat);
                alert("ADMIN ACCESS GRANTED ✓");
            }
        } else {
            alert("ACCESS DENIED: Incorrect Password.");
        }
    }

    function autoRestoreSession() {
        if (localStorage.getItem('gh_token') && localStorage.getItem('is_admin_session') === 'true') {
            isAdmin = true;
            document.getElementById('adminControls').style.display = 'flex';
            document.getElementById('adminInfo').innerText = "ADMIN ACTIVE (LOGOUT)";
            document.getElementById('adminInfo').style.color = "#34A853";
        }
    }

    const cvs = document.getElementById('particleCanvas'), ctx = cvs.getContext('2d');
    let pts = [], m = { x: 0, y: 0, smX: 0, smY: 0 };
    window.addEventListener('mousemove', e => { m.x = e.clientX; m.y = e.clientY; });

    class Particle {
        constructor() { this.x = Math.random() * cvs.width; this.y = Math.random() * cvs.height; this.baseSize = Math.random() * 2 + 1; this.size = this.baseSize; this.vx = (Math.random() - 0.5) * 0.4; this.vy = (Math.random() - 0.5) * 0.4; }
        update() { this.x += this.vx; this.y += this.vy; if (this.x < 0 || this.x > cvs.width) this.vx *= -1; if (this.y < 0 || this.y > cvs.height) this.vy *= -1; let dx = m.smX - this.x, dy = m.smY - this.y; let dist = Math.sqrt(dx*dx + dy*dy); if (dist < 150) { this.size = this.baseSize + (150 - dist) * 0.15; } else { this.size += (this.baseSize - this.size) * 0.1; } }
        draw() { ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fillStyle = (currentLvl > 1) ? "rgba(0,0,0,0.06)" : "rgba(0,0,0,0.15)"; ctx.fill(); }
    }
    function init() { cvs.width = window.innerWidth; cvs.height = window.innerHeight; pts = Array.from({length: 100}, () => new Particle()); }
    function animate() { ctx.clearRect(0, 0, cvs.width, cvs.height); m.smX += (m.x - m.smX) * 0.1; m.smY += (m.y - m.smY) * 0.1; pts.forEach(p => { p.update(); p.draw(); }); requestAnimationFrame(animate); }

    function showLevel(lvl, cat = '') {
        currentLvl = lvl; if(cat) currentCat = cat;
        document.querySelectorAll('.view-layer').forEach(el => el.classList.remove('active'));
        document.getElementById('lvl' + lvl).classList.add('active');
        document.getElementById('lvl4').style.display = (lvl === 4) ? 'flex' : 'none';
        if(lvl === 2) renderCatGrid();
        if(lvl === 3) renderProjGrid();
        if(lvl === 4) { vp.innerHTML = ''; loadBoard(); resetViewport(); document.getElementById('lvl4Title').innerText = currentProj.title; }
        document.getElementById('mainNav').classList.toggle('visible', lvl > 1);
        document.getElementById('backBtnContainer').classList.toggle('show', lvl > 1);
        document.getElementById('addProjBtn').style.display = (lvl === 3 && isAdmin) ? 'block' : 'none';
    }

    function renderCatGrid() {
        document.getElementById('catGrid').innerHTML = Object.keys(portfolio).map(cat => {
            const p = portfolio[cat].projects[0];
            const t = (p && p.thumbs && p.thumbs[0]) ? p.thumbs[0] : portfolio[cat].thumb;
            return `<div class="stack-container" onclick="showLevel(3, '${cat}')"><div class="neural-stack"><div class="neural-layer layer-2"></div><div class="neural-layer layer-1"><img src="${t}"></div></div><div class="stack-label" style="margin-top:20px; font-size:0.5rem; letter-spacing:2px; color:#bbb;">${cat}</div></div>`;
        }).join('');
    }

    function renderProjGrid() {
        const projs = portfolio[currentCat].projects || [];
        document.getElementById('projGrid').innerHTML = projs.map(p => {
            const t = p.thumbs || [];
            return `<div class="stack-container" onclick="openProject('${p.id}')">${isAdmin ? `<div class="del-proj-btn" onclick="deleteProject('${p.id}', event)">✕</div>` : ''}<div class="neural-stack"><div class="neural-layer layer-3">${t[2] ? `<img src="${t[2]}">` : ''}</div><div class="neural-layer layer-2">${t[1] ? `<img src="${t[1]}">` : ''}</div><div class="neural-layer layer-1">${t[0] ? `<img src="${t[0]}">` : ''}</div></div><div class="stack-label" style="margin-top:20px; font-size:0.5rem; letter-spacing:2px; color:#666;">${p.title}</div></div>`;
        }).join('');
    }

    function deleteProject(id, e) { e.stopPropagation(); if(confirm("Delete?")) { delete portfolio_raw_data[id]; saveToCloud(false).then(() => syncToLocalModel()); } }
    function openProject(id) { currentProj = portfolio[currentCat].projects.find(p => p.id === id); showLevel(4); }
    function updateViewport() { vp.style.transform = `translate(${panX}px, ${panY}px) scale(${zoom})`; }
    function resetViewport() { zoom = 1; panX = 0; panY = 0; updateViewport(); }
    bd.addEventListener('wheel', e => { e.preventDefault(); zoom = Math.min(Math.max(zoom * (e.deltaY > 0 ? 0.9 : 1.1), 0.1), 3); updateViewport(); }, {passive:false});

    bd.onmousedown = (e) => {
        if(currentLvl !== 4) return;
        const item = e.target.closest('.miro-item');
        if (e.button === 1 || (!item && e.button === 0)) { isPanning = true; startX = e.clientX - panX; startY = e.clientY - panY; return; }
        if(item && isAdmin) { isDragging = true; dragTarget = item; vp.appendChild(item); startX = (e.clientX/zoom) - item.offsetLeft; startY = (e.clientY/zoom) - item.offsetTop; if(e.target.classList.contains('resizer')) { isResizing = true; isDragging = false; startX = e.clientX; startY = e.clientY; startW = item.offsetWidth; startH = item.offsetHeight; } }
    };

    window.onmousemove = (e) => { if(isPanning) { panX = e.clientX - startX; panY = e.clientY - startY; updateViewport(); } else if(isDragging) { dragTarget.style.left = (e.clientX/zoom - startX) + 'px'; dragTarget.style.top = (e.clientY/zoom - startY) + 'px'; } else if(isResizing) { dragTarget.style.width = startW + (e.clientX - startX)/zoom + 'px'; dragTarget.style.height = startH + (e.clientY - startY)/zoom + 'px'; } };
    window.onmouseup = () => { if(isDragging || isResizing) saveToCloud(true); isPanning = isDragging = isResizing = false; };

    function createMiroItem(html, x, y, w = "300px") { const d = document.createElement('div'); d.className = 'miro-item'; d.style.cssText = `left:${x}; top:${y}; width:${w}; position:absolute;`; d.innerHTML = `${html}<div class="resizer" style="width:10px; height:10px; background:#4285F4; position:absolute; right:0; bottom:0; cursor:nwse-resize;"></div>`; vp.appendChild(d); }
    function addText() { createMiroItem(`<div contenteditable="true" style="padding:10px; outline:none; font-size:1rem;">New Text</div>`, "100px", "100px", "200px"); }
    function handleUpload(e) { Array.from(e.target.files).forEach(file => { const r = new FileReader(); r.onload = (ev) => createMiroItem(`<img src="${ev.target.result}" style="width:100%;">`, "100px", "100px"); r.readAsDataURL(file); }); }
    function handleDrop(e) { e.preventDefault(); if(isAdmin) handleUpload({target: {files: e.dataTransfer.files}}); }
    function loadBoard() { (currentProj.layout || []).forEach(it => createMiroItem(it.html, it.x, it.y, it.w)); }
    function handleBack() { if (currentLvl === 4) showLevel(3); else if (currentLvl === 3) showLevel(2); else showLevel(1); }

    window.onload = () => { 
        init(); 
        animate(); 
        autoRestoreSession(); // 页面加载自动恢复登录
        fetchFromGithub(); 
    };
    window.onresize = init;
    document.getElementById('dynamicNav').innerHTML = Object.keys(portfolio).map(cat => `<a onclick="showLevel(3, '${cat}')">${cat}</a>`).join('');
</script>
</body>
</html>
